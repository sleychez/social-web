{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatus.tsx","components/Profile/ProfileInfo/ProfileDataForm.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/AddNewPostForm/AddNewPostForm.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx"],"names":["module","exports","descriptionBlock","mainPhoto","contact","postsBlock","posts","item","ProfileStatusWithHooks","props","_useState","useState","_useState2","Object","slicedToArray","editMode","setEditMode","_useState3","status","_useState4","setStatus","useEffect","react_default","a","createElement","onDoubleClick","onChange","e","target","value","autoFocus","onBlur","updateStatus","ProfileDataFormReduxForm","reduxForm","form","_ref","profile","handleSubmit","error","onSubmit","className","style","formSummaryError","createField","Input","ProfileStatus","Textarea","keys","contacts","map","key","ProfileData","_ref2","isOwner","goToEditMode","onClick","fullName","lookingForAJobDescription","aboutMe","ProfileInfo_Contact","contactTitle","contactValue","Contact","_ref3","ProfileInfo","savePhoto","saveProfile","Preloader","src","photos","large","userPhoto","type","files","length","ProfileInfo_ProfileDataForm","initialValues","formData","then","ProfileInfo_ProfileData","Post","message","likesCount","MyPosts","postsElements","toConsumableArray","reverse","post","MyPosts_Post_Post","id","MyPosts_AddNewPostForm_AddNewPostForm","values","addPost","newPostText","React","memo","MyPostsContainer","connect","state","profilePage","actions","Profile","Profile_ProfileInfo_ProfileInfo","MyPosts_MyPostsContainer","ProfileContainer","_React$Component","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","userId","params","authorizedUserId","navigate","getUserProfile","getStatus","console","refreshProfile","prevProps","prevState","components_Profile_Profile","assign","Component","compose","auth","isAuth","WrappedComponent","useParams","useNavigate"],"mappings":"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","file":"static/js/1.7dcf2b2d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__2xYGy\",\"mainPhoto\":\"ProfileInfo_mainPhoto__2c0EC\",\"contact\":\"ProfileInfo_contact__38m9h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__1yk8U\",\"posts\":\"MyPosts_posts__2ibhY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1TVmr\"};","import React, {ChangeEvent, useEffect, useState} from \"react\";\r\n\r\n\r\ntype PropsType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\n const ProfileStatusWithHooks: React.FC<PropsType> = (props) => {\r\n\r\n     let [editMode, setEditMode] = useState(false);\r\n     let [status, setStatus] = useState(props.status)\r\n\r\n     useEffect(() => {\r\n         setStatus(props.status)\r\n     }, [props.status])\r\n\r\n     const activateEditMode = () => {\r\n         setEditMode(true)\r\n     }\r\n\r\n\r\n     const deactivateEditMode = () => {\r\n         setEditMode(false)\r\n         props.updateStatus(status)\r\n     }\r\n\r\n     const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n         setStatus(e.target.value)\r\n     }\r\n\r\n     return (\r\n         <div>\r\n             {!editMode &&\r\n                 <div>\r\n                     <span onDoubleClick={activateEditMode}>{props.status || '------'}</span>\r\n                 </div>\r\n             }\r\n             {editMode &&\r\n                 <div>\r\n                     <input onChange={onStatusChange} autoFocus={true}\r\n                            onBlur={deactivateEditMode} value={status}/>\r\n                 </div>\r\n             }\r\n         </div>\r\n     )\r\n }\r\n\r\n\r\n\r\nexport default ProfileStatusWithHooks;","import React from \"react\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatus\";\r\nimport {createField, GetStringKeysType, Input, Textarea} from \"../../common/FormsComtrol/FormsControl\";\r\n\r\nimport style from \"../../common/FormsComtrol/FormsControl.module.css\";\r\nimport {InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {ProfileType} from \"../../../types/types\";\r\n\r\n\r\ntype PropsType = {\r\n    profile: ProfileType\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    initialValues: ProfileType\r\n}\r\n\r\ntype ProfileKeysType = GetStringKeysType<ProfileType>\r\n\r\nconst ProfileDataForm: React.FC<InjectedFormProps<ProfileType, PropsType> & PropsType> = ({profile, status, updateStatus, handleSubmit, error}) => {\r\n    return  (\r\n        <form onSubmit={handleSubmit}>\r\n            <div><button>save</button> </div>\r\n            {error && <div className={style.formSummaryError}>\r\n                {error}\r\n            </div>\r\n                }\r\n                <div>\r\n                {createField<ProfileKeysType>(\"Full name\", \"fullName\", [], Input)}\r\n            </div>\r\n            <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n            <div>\r\n                <b>Looking for a job</b>:\r\n                {createField<ProfileKeysType>(\"Looking for a job\", \"lookingForAJobDescription\", [], Textarea)}\r\n            </div>\r\n            <div>\r\n                <b>About me</b>:\r\n                {createField<ProfileKeysType>(\"About me\", \"aboutMe\", [], Textarea)}\r\n            </div>\r\n            <div>\r\n                <b>My links</b>: {Object.keys(profile.contacts).map(key => {\r\n                return <div key={key} className={style.contact}>\r\n                    <b>{key}: {createField(key, 'contacts.' + key, [], Input)}</b>\r\n                </div>\r\n            })}\r\n            </div>\r\n        </form>\r\n    )}\r\n\r\nconst ProfileDataFormReduxForm = reduxForm<ProfileType, PropsType>({form: 'edit-profile'})(ProfileDataForm)\r\n\r\nexport default ProfileDataFormReduxForm;","import React, {ChangeEvent, useState} from \"react\";\r\nimport style from './ProfileInfo.module.css'\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatus\";\r\nimport userPhoto from '../../../assets/images/icon-256x256.png';\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\nimport {ContactsType, ProfileType} from \"../../../types/types\";\r\n\r\n\r\n\r\ntype PropsType = {\r\n    profile: ProfileType | null\r\n    isOwner: boolean\r\n    savePhoto: (file: File) => void\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    saveProfile: (profile: ProfileType) => Promise<any>\r\n}\r\n\r\n\r\nconst ProfileInfo:React.FC<PropsType> = ({profile, isOwner, savePhoto, status, updateStatus, saveProfile}) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    const onMainPhotoSelected = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files && e.target.files.length) {\r\n            savePhoto(e.target.files[0]);\r\n        }\r\n    }\r\n\r\n    const onSubmit = (formData: ProfileType) => {\r\n        saveProfile(formData).then (\r\n            () => {\r\n                setEditMode(false)\r\n            }\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n    <div className={style.descriptionBlock}>\r\n        <img src={profile.photos.large || userPhoto} className={style.mainPhoto}/>\r\n        {isOwner && <input type={'file'} onChange={onMainPhotoSelected}/>}\r\n\r\n        { editMode\r\n            ? <ProfileDataForm  initialValues={profile} profile={profile} status={status}\r\n                                      updateStatus={updateStatus} onSubmit={onSubmit}/>\r\n            : <ProfileData goToEditMode={() => {setEditMode(true)}} profile={profile}\r\n                           status={status} updateStatus={updateStatus} isOwner={isOwner}/> }\r\n\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\ntype ProfileDataPropsType = {\r\n    profile: ProfileType\r\n    isOwner: boolean\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    goToEditMode: () => void\r\n}\r\n\r\nconst ProfileData:React.FC<ProfileDataPropsType> = ({profile, status, updateStatus, isOwner, goToEditMode}) => {\r\n    return  (\r\n        <div>\r\n            {isOwner && <div> <button onClick={goToEditMode}>edit</button> </div>}\r\n        <div>\r\n           {profile.fullName}\r\n        </div>\r\n        <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n        <div>\r\n            <b>Looking for a job</b>: {profile.lookingForAJobDescription}\r\n        </div>\r\n            <div>\r\n                <b>About me</b>: {profile.aboutMe}\r\n            </div>\r\n        <div>\r\n            <b>My links</b>: {Object\r\n            .keys(profile.contacts)\r\n            .map(key => {\r\n            return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key as keyof ContactsType]}/>\r\n        })}\r\n        </div>\r\n    </div>\r\n    )}\r\n\r\n\r\ntype ContactPropsType = {\r\n    contactTitle: string\r\n    contactValue: string\r\n}\r\n\r\nconst Contact: React.FC<ContactPropsType> = ({contactTitle, contactValue}) => {\r\n    return <div className={style.contact}><b>{contactTitle}</b>:{contactValue}</div>\r\n}\r\n\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport style from './Post.module.css';\r\n\r\n\r\ntype PropsType = {\r\n    message: string\r\n    likesCount: number\r\n    id: number\r\n}\r\n\r\nconst Post: React.FC<PropsType> = (props) => {\r\n    return (\r\n        <div className={style.item}>\r\n            <img src='https://cdn-icons-png.flaticon.com/512/53/53104.png'/>\r\n            {props.message}\r\n            <div>\r\n                <span>like</span> {props.likesCount}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;","import { required} from \"../../../../utils/validators/validators\";\r\nimport { InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {createField, GetStringKeysType, Input} from \"../../../common/FormsComtrol/FormsControl\";\r\nimport React from \"react\";\r\n\r\ntype PropsType = {\r\n\r\n}\r\n\r\nexport type AddPostFormValuesType = {\r\n    newPostText: string\r\n}\r\n\r\ntype AddPostFormValuesKeysType = GetStringKeysType<AddPostFormValuesType>\r\n\r\nconst AddNewPostForm: React.FC<InjectedFormProps<AddPostFormValuesType, PropsType> & PropsType> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                {createField<AddPostFormValuesKeysType>('Your post', 'newPostText', [], Input)}\r\n            </div>\r\n            <div>\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default reduxForm<AddPostFormValuesType,PropsType >({form: 'profileAddNewPostForm'})(AddNewPostForm)","import React from 'react';\r\nimport style from './MyPosts.module.css';\r\nimport Post from \"./Post/Post\";\r\nimport AddNewPostForm, {AddPostFormValuesType} from \"./AddNewPostForm/AddNewPostForm\";\r\nimport {PostType} from \"../../../types/types\";\r\n\r\nexport type StatePropsType = {\r\n    posts: Array<PostType>\r\n\r\n}\r\n\r\nexport type DispatchPropsType = {\r\n    addPost: (newPostText: string) => void\r\n}\r\n\r\nconst MyPosts:React.FC<StatePropsType &  DispatchPropsType> = props => {\r\n    let postsElements =\r\n        [...props.posts]\r\n            .reverse()\r\n            .map(post => <Post key={post.id} message={post.message} id={post.id} likesCount={post.likesCount}/>)\r\n\r\n    let onAddPost = (values: AddPostFormValuesType) => {\r\n        props.addPost(values.newPostText);\r\n    }\r\n\r\n    return (\r\n        <div className={style.postsBlock}>\r\n            <h3>My posts</h3>\r\n            <AddNewPostForm onSubmit={onAddPost}/>\r\n            <div className={style.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst MyPostsMemorized = React.memo(MyPosts)\r\n\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport {actions} from \"../../../redux/profile-reducer\";\r\nimport MyPosts, {DispatchPropsType, StatePropsType} from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../../redux/redux-store\";\r\n\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nconst MyPostsContainer = connect<StatePropsType, DispatchPropsType, {}, AppStateType>(mapStateToProps, {\r\n    addPost: actions.addPost\r\n}) (MyPosts)\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport {ProfileType} from \"../../types/types\";\r\n\r\ntype PropsType = {\r\n    profile: ProfileType | null\r\n    isOwner: boolean\r\n    savePhoto: (file: File) => void\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    saveProfile: (profile: ProfileType) => Promise<any>\r\n}\r\n\r\n\r\nconst Profile:React.FC<PropsType> = (props) => {\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo savePhoto={props.savePhoto}\r\n                         isOwner={props.isOwner}\r\n                         profile={props.profile}\r\n                         status={props.status}\r\n                         updateStatus={props.updateStatus}\r\n                         saveProfile={props.saveProfile}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getStatus,\r\n    getUserProfile,\r\n    savePhoto, saveProfile,\r\n    updateStatus\r\n} from \"../../redux/profile-reducer\";\r\nimport {NavigateFunction, useNavigate, useParams} from \"react-router\";\r\nimport {compose} from \"redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {ProfileType} from \"../../types/types\";\r\n\r\n\r\nconst withRouter = (WrappedComponent: React.ComponentType) => (props:any) => {\r\n    const params = useParams();\r\n    const navigate = useNavigate();\r\n    return (\r\n        <WrappedComponent\r\n            {...props}\r\n            params={params}\r\n            navigate={navigate}\r\n\r\n        />\r\n    );\r\n};\r\n\r\ntype StatePropsType = ReturnType<typeof mapStateToProps>\r\n\r\ntype DispatchPropsType = {\r\n    getUserProfile: (userId: number) => void\r\n     getStatus: (userId: number) => void\r\n     updateStatus: (status: string) => void\r\n     savePhoto: (file: File) => void\r\n     saveProfile: (profile: ProfileType) => Promise<any>\r\n}\r\n\r\n\r\ntype PropsType = StatePropsType & DispatchPropsType & {\r\n    navigate: NavigateFunction\r\n    params: {\r\n        userId: string\r\n    }\r\n}\r\n\r\nclass ProfileContainer extends React.Component<PropsType> {\r\n\r\n    refreshProfile() {\r\n        let userId: number | null = +this.props.params.userId\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId) {\r\n                this.props.navigate('/login')\r\n            }\r\n        }\r\n        if (!userId) {\r\n            console.error(\"ID should exists in URI params or in state ('authorizedUserId')\")\r\n        } else {\r\n            this.props.getUserProfile(userId);\r\n            this.props.getStatus(userId)\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps: PropsType, prevState: PropsType) {\r\n        if (this.props.params.userId !== prevProps.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Profile {...this.props}\r\n                     isOwner={!this.props.params.userId}\r\n                     profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     savePhoto={this.props.savePhoto}\r\n                     updateStatus={this.props.updateStatus}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType) => ({\r\n\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile}),\r\n    withRouter,\r\n) (ProfileContainer);"],"sourceRoot":""}